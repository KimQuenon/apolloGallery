<span class='rating'>
    {% set filledStars = rating | round(0, 'floor') %}
    {% set halfStar = (rating - filledStars) >= 0.5 %}
    
    {% for i in 1..5 %}
        {% if i <= filledStars %}
            <i class='fas fa-star star-filled'></i> <!-- full stars -->
        {% elseif halfStar %}
            {% if loop.index == filledStars + 1 %}
                <i class='fas fa-star-half-alt star-half'></i> <!-- half stars -->
            {% else %}
                <i class='far fa-star star-empty'></i> <!-- empty stars -->
            {% endif %}
        {% else %}
            <i class='far fa-star star-empty'></i>
        {% endif %}
    {% endfor %}
</span>

